var o=Object.defineProperty;var u=(s,t,a)=>t in s?o(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a;var r=(s,t,a)=>(u(s,typeof t!="symbol"?t+"":t,a),a);import{B as m,P as h,L as _}from"./BaseDemo-21616005.js";import{m as i,a as n,b as l}from"./mecha_1004d_tex-6cc8d42a.js";class p extends m{constructor(){super();r(this,"_armatureDisplay",null);this._resources.push(i,n,l)}_onStart(){const a=h.factory;if(a.parseDragonBonesData(this._pixiResources[i].data),a.parseTextureAtlasData(this._pixiResources[n].data,this._pixiResources[l].texture),this._armatureDisplay=a.buildArmatureDisplay("mecha_1004d"),this._armatureDisplay===null)throw new Error("this._armatureDisplay is null.");this._armatureDisplay.on(_.LOOP_COMPLETE,this._animationEventHandler,this),this._armatureDisplay.animation.play("walk"),this._armatureDisplay.x=0,this._armatureDisplay.y=100,this.addChild(this._armatureDisplay)}_animationEventHandler(a){if(this._armatureDisplay===null)throw new Error("this._armatureDisplay is null.");let e=this._armatureDisplay.animation.getState("attack_01");if(!e){if(e=this._armatureDisplay.animation.fadeIn("attack_01",.1,1,1),e===null)throw new Error("attackState is null.");e.resetToPose=!1,e.autoFadeOutTime=.1,e.addBoneMask("chest"),e.addBoneMask("effect_l"),e.addBoneMask("effect_r")}}}new p;
