var n=Object.defineProperty;var h=(r,i,a)=>i in r?n(r,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[i]=a;var s=(r,i,a)=>(h(r,typeof i!="symbol"?i+"":i,a),a);import{B as D,P as o}from"./BaseDemo-21616005.js";import{m as l,a as u,b as m}from"./mecha_2903_tex-40bccf34.js";class p extends D{constructor(){super();s(this,"_armatureDisplayA",null);s(this,"_armatureDisplayB",null);s(this,"_armatureDisplayC",null);s(this,"_armatureDisplayD",null);this._resources.push(l,u,m)}_onStart(){const a=o.factory;a.parseDragonBonesData(this._pixiResources[l].data),a.parseTextureAtlasData(this._pixiResources[u].data,this._pixiResources[m].texture),this._armatureDisplayA=a.buildArmatureDisplay("mecha_2903"),this._armatureDisplayB=a.buildArmatureDisplay("mecha_2903b"),this._armatureDisplayC=a.buildArmatureDisplay("mecha_2903c"),this._armatureDisplayD=a.buildArmatureDisplay("mecha_2903d");const t=a.getArmatureData("mecha_2903d");if(t===null)throw new Error("sourceArmatureData is null.");if(this._armatureDisplayA===null)throw new Error("this._armatureDisplayA is null.");if(this._armatureDisplayB===null)throw new Error("this._armatureDisplayB is null.");if(this._armatureDisplayC===null)throw new Error("this._armatureDisplayC is null.");if(a.replaceAnimation(this._armatureDisplayA.armature,t),a.replaceAnimation(this._armatureDisplayB.armature,t),a.replaceAnimation(this._armatureDisplayC.armature,t),this._armatureDisplayD===null)throw new Error("this._armatureDisplayD is null.");this.addChild(this._armatureDisplayD),this.addChild(this._armatureDisplayA),this.addChild(this._armatureDisplayB),this.addChild(this._armatureDisplayC),this._armatureDisplayA.x=0-350,this._armatureDisplayA.y=0+150,this._armatureDisplayB.x=0,this._armatureDisplayB.y=0+150,this._armatureDisplayC.x=0+350,this._armatureDisplayC.y=0+150,this._armatureDisplayD.x=0,this._armatureDisplayD.y=0-50,this.interactive=!0;const e=()=>{this._changeAnimation()};this.addListener("touchstart",e,this),this.addListener("mousedown",e,this),this.createText("Touch to change animation.")}_changeAnimation(){if(this._armatureDisplayD===null)throw new Error("this._armatureDisplayD is null.");let a=this._armatureDisplayD.animation.lastAnimationName;if(a){const t=this._armatureDisplayD.animation.animationNames,e=(t.indexOf(a)+1)%t.length;this._armatureDisplayD.animation.play(t[e])}else this._armatureDisplayD.animation.play();if(a=this._armatureDisplayD.animation.lastAnimationName,this._armatureDisplayA===null)throw new Error("this._armatureDisplayA is null.");if(this._armatureDisplayB===null)throw new Error("this._armatureDisplayB is null.");if(this._armatureDisplayC===null)throw new Error("this._armatureDisplayC is null.");this._armatureDisplayA.animation.play(a),this._armatureDisplayB.animation.play(a),this._armatureDisplayC.animation.play(a)}}new p;
